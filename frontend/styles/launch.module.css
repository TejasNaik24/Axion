/**
 * launch.module.css
 *
 * Dev: this section is lazy-loaded and respects prefers-reduced-motion.
 * Read app/ components/ styles/ before editing.
 *
 * Purpose: Advanced CSS for the Launch section visual
 * - Clock dial with numbers inside
 * - Drawn/painted trail effects on hands (like Huly)
 * - Glow and animation effects
 */

/* Dial container */
.dialContainer {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Fixed-size clock face - contains all clock elements */
.clockFace {
  position: relative;
  width: 420px;
  height: 420px;
  flex-shrink: 0;
}

/* Outer ring with tick marks */
.outerRing {
  position: absolute;
  top: 0;
  left: 0;
  width: 420px;
  height: 420px;
  border-radius: 50%;
  border: 2px solid rgba(255, 255, 255, 0.08);
  box-shadow: inset 0 0 80px rgba(0, 240, 216, 0.05),
    0 0 100px rgba(124, 76, 255, 0.08);
}

/* Tick marks around the dial - many small ticks */
.tickRing {
  position: absolute;
  top: 0;
  left: 0;
  width: 420px;
  height: 420px;
  border-radius: 50%;
  background: repeating-conic-gradient(from 0deg,
      rgba(255, 255, 255, 0.45) 0deg,
      rgba(255, 255, 255, 0.45) 0.5deg,
      transparent 0.5deg,
      transparent 6deg);
  -webkit-mask-image: radial-gradient(circle at 210px 210px,
      transparent 196px,
      black 197px);
  mask-image: radial-gradient(circle at 210px 210px,
      transparent 196px,
      black 197px);
}

/* Clock numbers - positioned explicitly inside the clock */
.clockNumber {
  position: absolute;
  font-size: 18px;
  font-weight: 700;
  color: rgba(255, 255, 255, 0.55);
  font-family: system-ui, -apple-system, sans-serif;
  text-shadow: 0 0 10px rgba(0, 240, 216, 0.5);
  z-index: 10;
  pointer-events: none;
  transform: translate(-50%, -50%);
}

/* Canvas container for R3F hands and trails */
.canvasContainer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 3;
  /* Between clock face elements (z-index: 1) and orb/cap (z-index: 7+) */
  pointer-events: none;
}

/* Inner orb wrapper for the interactive 3D orb */
.miniOrbWrapper {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 160px;
  height: 160px;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 50;
  /* Ensure it's way above the hands and cap */
  pointer-events: auto;
}

/* Explicit class for the orb component itself */
.miniOrb {
  width: 160px !important;
  height: 160px !important;
  display: block;
}

/* Center cap for hands - provides a solid connection point */
.handCap {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 14px;
  height: 14px;
  background: #080a0f;
  border: 2px solid rgba(255, 255, 255, 0.15);
  border-radius: 50%;
  z-index: 7;
  /* On top of canvas, below the orb wrapper */
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

/* Orb pulse animation */
@keyframes orbPulse {

  0%,
  100% {
    transform: translate(-50%, -50%) scale(1);
    box-shadow: 0 0 40px rgba(0, 240, 216, 0.4),
      0 0 80px rgba(124, 76, 255, 0.3), inset 0 0 30px rgba(255, 255, 255, 0.15);
  }

  50% {
    transform: translate(-50%, -50%) scale(1.05);
    box-shadow: 0 0 50px rgba(0, 240, 216, 0.6),
      0 0 100px rgba(124, 76, 255, 0.4), inset 0 0 40px rgba(255, 255, 255, 0.2);
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .canvasContainer {
    display: none;
    /* Hide R3F Canvas, show SVG fallback instead */
  }

  .miniOrbWrapper {
    display: block;
  }
}

/* Static fallback container */
.staticFallback {
  position: relative;
  width: 320px;
  height: 320px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.staticRing {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  border: 2px solid rgba(255, 255, 255, 0.1);
  background: radial-gradient(circle at 30% 30%,
      rgba(0, 240, 216, 0.1),
      rgba(124, 76, 255, 0.1) 70%,
      transparent 100%);
}

.staticOrb {
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background: radial-gradient(circle at 35% 35%,
      rgba(255, 255, 255, 0.3),
      rgba(0, 240, 216, 0.2) 50%,
      rgba(124, 76, 255, 0.2) 100%);
  box-shadow: 0 0 40px rgba(0, 240, 216, 0.3), 0 0 80px rgba(124, 76, 255, 0.2);
}